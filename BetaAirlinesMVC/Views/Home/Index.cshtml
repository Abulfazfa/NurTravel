@{
    ViewBag.Title = "Home Page";
    Layout = "~/Views/Shared/_BetaAirlinesLayout.cshtml";
}

@model BetaAirlinesMVC.ViewModel.FlightSearchViewModel

<header class="section__container header__container">
    <h1 class="section__header">Find And Book<br />A Great Experience</h1>
    <img src="assets/header.jpg" alt="header" />
</header>

<section class="section__container booking__container">
    @using (Html.BeginForm("Index", "Home", FormMethod.Post))
    {
        @Html.AntiForgeryToken()

        <div class="form__group">
            <span><i class="ri-map-pin-line"></i></span>
            <div class="input__content">
                <div class="input__group">
                    @Html.TextBoxFor(m => m.Location, new { @class = "form-control" })
                    @Html.LabelFor(m => m.Location, "Location")
                </div>
                <p>Where are you going?</p>
                @Html.ValidationMessageFor(m => m.Location, "", new { @class = "text-danger" })
            </div>
        </div>
        <div class="form__group">
            <span><i class="ri-user-3-line"></i></span>
            <div class="input__content">
                <div class="input__group">
                    @Html.TextBoxFor(m => m.Travellers, new { @class = "form-control", type = "number" })
                    @Html.LabelFor(m => m.Travellers, "Travellers")
                </div>
                <p>Add guests</p>
                @Html.ValidationMessageFor(m => m.Travellers, "", new { @class = "text-danger" })
            </div>
        </div>
        <div class="form__group">
            <span><i class="ri-calendar-line"></i></span>
            <div class="input__content">
                <div class="input__group">
                    @Html.TextBoxFor(m => m.Departure, new { @class = "form-control", type = "date" })
                    @Html.LabelFor(m => m.Departure, "Departure")
                </div>
                <p>Add date</p>
                @Html.ValidationMessageFor(m => m.Departure, "", new { @class = "text-danger" })
            </div>
        </div>
        <div class="form__group">
            <span><i class="ri-calendar-line"></i></span>
            <div class="input__content">
                <div class="input__group">
                    @Html.TextBoxFor(m => m.Return, new { @class = "form-control", type = "date" })
                    @Html.LabelFor(m => m.Return, "Return")
                </div>
                <p>Add date</p>
                @Html.ValidationMessageFor(m => m.Return, "", new { @class = "text-danger" })
            </div>
        </div>
        <button class="btn"><i class="ri-search-line"></i> Search</button>
    }

    @if (Model.SearchResults != null && Model.SearchResults.Any())
    {
        <div class="table-container">
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th>Departure Airport</th>
                        <th>Arrival Airport</th>
                        <th>Departure Date</th>
                        <th>Flight Duration</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var item in Model.SearchResults)
                    {
                        <tr>
                            <td>@item.DepartureAirport.Name</td>
                            <td>@item.ArrivalAirport.Name</td>
                            <td>@item.DepartureDate.ToString("yyyy-MM-dd")</td>
                            <td>@item.FlightLengthInMinutes minutes</td>
                            <td>
                                @using (Html.BeginForm("Create", "BookedFlights", new { ReturnUrl = ViewBag.ReturnUrl }, FormMethod.Post))
                                {
                                    @Html.AntiForgeryToken()
                                    <input type="hidden" value="@ViewBag.UserID" name="usr" />
                                    <input type="hidden" value="@item.Id" name="fid" />
                                    <button type="submit" class="btn btn-success">Book Flight</button>
                                }
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    }
    else if (Model.SearchResults != null)
    {
        <p>No flights found.</p>
    }
</section>

<style>
    /* Custom CSS for the search form and results table */
    .section__container {
        padding: 20px;
    }

    .form__group {
        display: flex;
        align-items: center;
        margin-bottom: 15px;
    }

    .input__content {
        margin-left: 10px;
    }

    .input__group {
        display: flex;
        flex-direction: column;
    }

        .input__group input {
            margin-bottom: 5px;
        }

    .btn {
        display: flex;
        align-items: center;
        padding: 10px 20px;
        background-color: #007bff;
        color: white;
        border: none;
        border-radius: 5px;
        cursor: pointer;
    }

        .btn:hover {
            background-color: #0056b3;
        }

    .table-container {
        margin-top: 20px;
        overflow-x: auto;
    }

    .table th, .table td {
        padding: 10px;
        vertical-align: middle;
    }
</style>

<section class="section__container plan__container">
    <p class="subheader">TRAVEL SUPPORT</p>
    <h2 class="section__header">Plan your travel with confidence</h2>
    <p class="description">
        Find help with your bookings and travel plans, and seee what to expect
        along your journey.
    </p>
    <div class="plan__grid">
        <div class="plan__content">
            <span class="number">01</span>
            <h4>Travel Requirements for Dubai</h4>
            <p>
                Stay informed and prepared for your trip to Dubai with essential
                travel requirements, ensuring a smooth and hassle-free experience in
                this vibrant and captivating city.
            </p>
            <span class="number">02</span>
            <h4>Multi-risk travel insurance</h4>
            <p>
                Comprehensive protection for your peace of mind, covering a range of
                potential travel risks and unexpected situations.
            </p>
            <span class="number">03</span>
            <h4>Travel Requirements by destinations</h4>
            <p>
                Stay informed and plan your trip with ease, as we provide up-to-date
                information on travel requirements specific to your desired
                destinations.
            </p>
        </div>
        <div class="plan__image">
            <img src="assets/plan-1.jpg" alt="plan" />
            <img src="assets/plan-2.jpg" alt="plan" />
            <img src="assets/plan-3.jpg" alt="plan" />
        </div>
    </div>
</section>

<section class="memories">
    <div class="section__container memories__container">
        <div class="memories__header">
            <h2 class="section__header">
                Travel to make memories all around the world
            </h2>

        </div>
        <div class="memories__grid">
            <div class="memories__card">
                <span><i class="ri-calendar-2-line"></i></span>
                <h4>Book & relax</h4>
                <p>
                    With "Book and Relax," you can sit back, unwind, and enjoy the
                    journey while we take care of everything else.
                </p>
            </div>
            <div class="memories__card">
                <span><i class="ri-shield-check-line"></i></span>
                <h4>Smart Checklist</h4>
                <p>
                    Introducing Smart Checklist with us, the innovative solution
                    revolutionizing the way you travel with our airline.
                </p>
            </div>
            <div class="memories__card">
                <span><i class="ri-bookmark-2-line"></i></span>
                <h4>Save More</h4>
                <p>
                    From discounted ticket prices to exclusive promotions and deals,
                    we prioritize affordability without compromising on quality.
                </p>
            </div>
        </div>
    </div>
</section>

<section class="section__container lounge__container">
    <div class="lounge__image">
        <img src="assets/lounge-1.jpg" alt="lounge" />
        <img src="assets/lounge-2.jpg" alt="lounge" />
    </div>
    <div class="lounge__content">
        <h2 class="section__header">Unaccompanied Minor Lounge</h2>
        <div class="lounge__grid">
            <div class="lounge__details">
                <h4>Experience Tranquility</h4>
                <p>
                    Serenity Haven offers a tranquil escape, featuring comfortable
                    seating, calming ambiance, and attentive service.
                </p>
            </div>
            <div class="lounge__details">
                <h4>Elevate Your Experience</h4>
                <p>
                    Designed for discerning travelers, this exclusive lounge offers
                    premium amenities, assistance, and private workspaces.
                </p>
            </div>
            <div class="lounge__details">
                <h4>A Welcoming Space</h4>
                <p>
                    Creating a family-friendly atmosphere, The Family Zone is the
                    perfect haven for parents and children.
                </p>
            </div>
            <div class="lounge__details">
                <h4>A Culinary Delight</h4>
                <p>
                    Immerse yourself in a world of flavors, offering international
                    cuisines, gourmet dishes, and carefully curated beverages.
                </p>
            </div>
        </div>
    </div>
</section>

<section class="section__container travellers__container">
    <h2 class="section__header">Best travellers of the month</h2>
    <div class="travellers__grid">
        <div class="travellers__card">
            <img src="assets/traveller-1.jpg" alt="traveller" />
            <div class="travellers__card__content">
                <img src="assets/client-1.jpg" alt="client" />
                <h4>Emily Johnson</h4>
                <p>Dubai</p>
            </div>
        </div>
        <div class="travellers__card">
            <img src="assets/traveller-2.jpg" alt="traveller" />
            <div class="travellers__card__content">
                <img src="assets/client-2.jpg" alt="client" />
                <h4>David Smith</h4>
                <p>Paris</p>
            </div>
        </div>
        <div class="travellers__card">
            <img src="assets/traveller-3.jpg" alt="traveller" />
            <div class="travellers__card__content">
                <img src="assets/client-3.jpg" alt="client" />
                <h4>Olivia Brown</h4>
                <p>Singapore</p>
            </div>
        </div>
        <div class="travellers__card">
            <img src="assets/traveller-4.jpg" alt="traveller" />
            <div class="travellers__card__content">
                <img src="assets/client-4.jpg" alt="client" />
                <h4>Daniel Taylor</h4>
                <p>Malaysia</p>
            </div>
        </div>
    </div>
</section>

<section class="subscribe">
    <div class="section__container subscribe__container">
        <h2 class="section__header">Subscribe newsletter & get latest news</h2>
        <form class="subscribe__form">
            <input type="text" placeholder="Enter your email here" />
            <button class="btn">Subscribe</button>
        </form>
    </div>
</section>
